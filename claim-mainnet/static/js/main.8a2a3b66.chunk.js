(this["webpackJsonpreact-ts-material-01"]=this["webpackJsonpreact-ts-material-01"]||[]).push([[0],{208:function(t){t.exports=JSON.parse('[{"inputs":[],"name":"claim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"cleanup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"value","type":"uint256"}],"name":"setMaxClaimAtOnce","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"value","type":"address"}],"name":"setToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_voters","type":"address[]"},{"internalType":"uint256[]","name":"_values","type":"uint256[]"}],"name":"setVoterBalances","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"start","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"stop","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"claimed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ClaimToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getClaimActive","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getContractBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"lastAction","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"started","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"voterBalances","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"voterClaims","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},242:function(t,e,n){},243:function(t,e,n){},245:function(t,e){},281:function(t,e){},283:function(t,e){},305:function(t,e){},307:function(t,e){},319:function(t,e){},320:function(t,e){},343:function(t,e){},346:function(t,e){},348:function(t,e){},460:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(38),o=n.n(s),c=(n(242),n(243),n(9)),l=n(501),d=n(500),r=n(40),h=n.n(r),w=n(208),u=n(504),p=n(498),m=n(225),b=n(222),y=n.n(b),g=n(220),j=n.n(g),f=n(502),x=n(495),v=n(497),C=n(493),S=n(503),O=n.p+"static/media/metamask.55d59196.png",k=n.p+"static/media/trustwallet.8de17c9e.png",A=n(2);class W extends i.a.Component{constructor(t){super(t),this.state={WalletConnectSelectionDlgOpen:!1,connected:!1,networkWarning:""},this.baseState=void 0,this.componentDidMount=()=>{try{let t=localStorage.getItem("walletconnect");if(t){let e=!1;try{e=JSON.parse(t).connected}catch{e=!1}e&&this.initialConnect_WalletConnect()}else window.ethereum&&this.initialConnect()}catch{}},this.componentWillUnmount=()=>{},this.initialConnect_WalletConnect=async()=>{if(window.chainId>0&&window.chainIdExpected!=window.chainId)this.setState({networkWarning:"network ".concat(window.chainId," not supported.")});else{this.setState({networkWarning:""}),window.walletConnectProvider=new m.a({infuraId:"4795165df6dddd069cb3064c91713649",chainId:window.chainIdExpected,rpc:{97:"https://data-seed-prebsc-1-s1.binance.org:8545",56:"https://bsc-dataseed.binance.org/"}});try{await window.walletConnectProvider.enable(),window.web3=new h.a(window.walletConnectProvider);const t=await window.web3.eth.getAccounts();t.length>0&&(window.connected=!0,this.setState({connected:!0}),window.walletAddress=t[0],this.handleConnectWallet_WalletConnect())}catch{console.log("error on walletconnect")}}},this.initialConnect=()=>{if(window.ethereum){if(window.chainId>0&&window.chainIdExpected!=window.chainId)return void this.setState({networkWarning:"network ".concat(window.chainId," not supported.")});this.setState({networkWarning:""}),window.ethereum.request({method:"eth_requestAccounts"}).then((t=>{t.length>=1&&(window.connected=!0,this.setState({connected:!0}),window.walletAddress=t[0],this.handleConnectWallet())}))}else if(window.confirm("You have to use MetaMask or TrustWallet to connect. Press OK to continue to the MetaMask download page. https://metamask.io/download")){let t=document.createElement("a");t.target="_blank",t.href="https://metamask.io/download",t.click()}},this.handleConnectWallet=()=>{window.ethereum&&(window.web3=new h.a(window.ethereum),window.chainId=window.ethereum.networkVersion,window.chainId>0&&window.chainIdExpected!=window.chainId?this.setState({networkWarning:"network ".concat(window.chainId," not supported.")}):this.setState({networkWarning:""}),window.ethereum.request({method:"eth_accounts"}).then((t=>{t.length>=1&&(window.connected=!0,this.setState({connected:!0}),window.walletAddress=t[0],this.updateRefLink(),this.forceUpdate(),window.farm_contract=new window.web3.eth.Contract(window.contract_abi,window.contractAddress))})))},this.handleConnectWallet_WalletConnect=async()=>{if(window.walletConnectProvider){window.chainId=window.walletConnectProvider.chainId,window.chainId>0&&window.chainIdExpected!=window.chainId?this.setState({networkWarning:"network ".concat(window.chainId," not supported.")}):this.setState({networkWarning:""});const t=await window.web3.eth.getAccounts();t.length>0&&(window.connected=!0,this.setState({connected:!0}),window.walletAddress=t[0],this.updateRefLink(),this.forceUpdate(),window.farm_contract=new window.web3.eth.Contract(window.contract_abi,window.contractAddress))}},this.handleDeactivateAccount=()=>{window.connected=!1,window.walletAddress="",this.setState({networkWarning:""}),this.setState({connected:!1}),this.forceUpdate()},this.handleDeactivateAccount_WalletConnect=()=>{window.walletConnectProvider.disconnect(),window.connected=!1,window.walletAddress="",window.chainId=0,localStorage.setItem("walletconnect",""),this.setState({networkWarning:""}),this.setState({connected:!1}),this.forceUpdate()},this.updateRefLink=()=>{let t=document.getElementById("walletAddressRefLink");null!=t&&(t.innerText=window.walletAddress)},this.handleWalletConnectDlgSelection=t=>{switch(this.setState({WalletConnectSelectionDlgOpen:!1}),t){case"metamask":case"trustwallet":this.initialConnect();break;case"walletconnect":this.initialConnect_WalletConnect()}},this.handleWalletConnectDlgClose=()=>{this.setState({WalletConnectSelectionDlgOpen:!1})},this.onClick_connect=()=>{this.setState({WalletConnectSelectionDlgOpen:!0})},this.onClick_disconnect=()=>{try{this.handleDeactivateAccount_WalletConnect()}catch{}try{this.handleDeactivateAccount()}catch{}},this.render=()=>{let t;t=this.state.connected?Object(A.jsxs)(l.a,{fullWidth:!0,variant:"contained",color:"secondary",sx:{my:0,marginRight:0},size:"small",onClick:this.onClick_disconnect,children:[Object(A.jsx)(j.a,{style:{height:"20px",marginRight:"8px"}}),"disconnect"]}):Object(A.jsxs)(l.a,{fullWidth:!0,variant:"contained",color:"primary",sx:{my:0,marginRight:0},size:"small",onClick:this.onClick_connect,children:[Object(A.jsx)(y.a,{style:{height:"20px",marginRight:"8px"}}),"connect"]});let e=Object(A.jsx)(C.a,{onClose:this.handleWalletConnectDlgClose,open:this.state.WalletConnectSelectionDlgOpen,children:Object(A.jsxs)(f.a,{sx:{p:"32px"},children:[Object(A.jsxs)(x.a,{autoFocus:!0,button:!0,onClick:()=>this.handleWalletConnectDlgSelection("metamask"),children:[Object(A.jsx)(S.a,{children:Object(A.jsx)("img",{src:O,style:{width:"40px"}})}),Object(A.jsx)(v.a,{primaryTypographyProps:{fontSize:"24pt"},primary:"Metamask"})]}),Object(A.jsxs)(x.a,{autoFocus:!0,button:!0,onClick:()=>this.handleWalletConnectDlgSelection("trustwallet"),children:[Object(A.jsx)(S.a,{children:Object(A.jsx)("img",{src:k,style:{width:"40px"}})}),Object(A.jsx)(v.a,{primaryTypographyProps:{fontSize:"24pt"},primary:"Trust Wallet"})]})]})});return Object(A.jsxs)(u.a,{children:[this.state.networkWarning,Object(A.jsxs)(p.a,{container:!0,children:[Object(A.jsx)(p.a,{item:!0,xs:12,md:12,children:t}),Object(A.jsx)(p.a,{item:!0,xs:12,md:12,children:Object(A.jsx)("div",{style:{padding:"16px"},children:this.state.connected&&window.walletAddress&&"".concat(window.walletAddress.slice(0,6),"...").concat(window.walletAddress.slice(window.walletAddress.length-4,window.walletAddress.length))})})]}),e]})},this.baseState=this.state}componentWillReceiveProps(t){}}var T=W,I=n(223),D=n.n(I);window.chainIdExpected=56;Object(c.a)(d.a)((t=>{let{theme:e}=t;return{...e.typography.h3,padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary}}));window.dataRefreshInterval=3e3;class _ extends i.a.Component{constructor(t){super(t),this.state={radioValue:"",progress:!1,contractBalance:0,alreadyClaimed:0,voterBalance:0,lastAction:0,lastActionTxt:"",claimButtonDisabled:!1,lastClaimMinutesAgo:0,claimButtonDisabledBecauseCooldown:!1},this.baseState=void 0,this._stateInterval=void 0,this.componentDidMount=()=>{window.contractAddress="0x22d331f76Aa4044f1680D0395A87610EA58e0B37",window.contract_abi=w,this.checkState(),this._stateInterval&&clearInterval(this._stateInterval),this._stateInterval=setInterval(this.checkState,window.dataRefreshInterval)},this.componentWillUnmount=()=>{},this.checkState=()=>{if(!0===window.connected){this.setState({yourAddress:window.walletAddress});try{window.farm_contract.methods.getContractBalance().call().then((t=>{this.setState({contractBalance:h.a.utils.fromWei(t)}),window.farm_contract.methods.voterBalances(window.walletAddress).call().then((t=>{this.setState({voterBalance:h.a.utils.fromWei(t)}),window.farm_contract.methods.lastAction(window.walletAddress).call().then((t=>{let e="";if("0"==t)e="never";else{let n=new Date(1e3*parseInt(t)),a=new Date,i=(a.getTime()-n.getTime())/1e3/60;this.setState({lastClaimMinutesAgo:i}),i>1440?this.setState({claimButtonDisabledBecauseCooldown:!1}):this.setState({claimButtonDisabledBecauseCooldown:!0}),e=((a.getTime()-n.getTime())/1e3/60/60).toFixed(1)+" h ago"}this.setState({lastAction:t,lastActionTxt:e}),this.state.voterBalance>0&&this.state.contractBalance>0?this.setState({claimButtonDisabled:!1}):this.setState({claimButtonDisabled:!0})})).catch((t=>{console.log("error on reading lastAction",t)}))}))})).catch((t=>{console.log("error on reading contract balance",t)})),window.farm_contract.methods.voterClaims(window.walletAddress).call().then((t=>{this.setState({alreadyClaimed:h.a.utils.fromWei(t)})})).catch((t=>{console.log("error on reading voterClaims",t)}))}catch(t){console.log("error",t)}}else this.setState(this.baseState)},this.onClick_Submit=()=>{let t="";"op1"==this.state.radioValue.toLowerCase()?t="1":"op2"==this.state.radioValue.toLowerCase()&&(t="2"),this.setState({progress:!0,claimButtonDisabled:!0}),window.farm_contract.methods.claim().send({from:window.walletAddress}).then((t=>{this.setState({progress:!1,claimButtonDisabled:!1})})).catch((t=>{alert("transaction failed"),this.setState({progress:!1,claimButtonDisabled:!1})}))},this.onClick_AddMe=()=>{let t="";"op1"==this.state.radioValue.toLowerCase()?t="1":"op2"==this.state.radioValue.toLowerCase()&&(t="2"),this.setState({progress:!0}),window.farm_contract.methods.setVoterBalances([window.walletAddress],[h.a.utils.toWei("36")]).send({from:window.walletAddress}).then((t=>{this.setState({progress:!1})})).catch((t=>{alert("transaction failed"),this.setState({progress:!1})}))},this.handleRadioChange=(t,e)=>{this.setState({radioValue:e})},this.render=()=>Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{className:"wrapper",children:[Object(A.jsx)("img",{className:"logo",src:"https://piston-token.com/images/logo.svg"}),Object(A.jsx)("h2",{children:"PISTON TOKEN"}),Object(A.jsx)("h3",{children:"FINAL CLAIM"}),Object(A.jsxs)("div",{style:{display:1==window.connected?"":"none"},children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"claim pool balance:"})," ",this.state.contractBalance," USDT"]}),Object(A.jsx)("br",{}),Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"my claimed amount:"})," ",this.state.alreadyClaimed," USDT"]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"my last claim:"})," ",this.state.lastActionTxt]}),Object(A.jsxs)(l.a,{disabled:this.state.claimButtonDisabled||this.state.claimButtonDisabledBecauseCooldown,fullWidth:!0,variant:"contained",color:"primary",sx:{my:0,marginTop:"32px"},size:"large",onClick:this.onClick_Submit,children:[Object(A.jsx)(D.a,{style:{height:"20px",marginRight:"8px"}}),"claim"]})]}),Object(A.jsx)("div",{style:{display:1==window.connected&&0==this.state.voterBalance?"":"none",border:"1px solid white",borderRadius:"10px"},children:Object(A.jsx)("div",{className:"errormsgMain",children:"Your wallet is not eligible"})}),Object(A.jsx)("div",{style:{marginTop:"24px"},children:Object(A.jsx)(T,{})})]}),Object(A.jsx)("a",{id:"details"}),Object(A.jsxs)("div",{className:"wrapper left",style:{marginTop:"16px"},children:["11th November",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"Greetings all! The time is finally here! \ud83e\udd18\ud83c\udffc",Object(A.jsx)("br",{}),"As you all know, PSTN unfortunately came to an end. We ran a vote many months ago, and 81% of the community decided to invest the little liquidity that remained to gain profits and hopefully start giving back to all those that did not receive their original investment back.",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"Our first investment did not go well but we didn\u2019t give up. A new opportunity arose, at a lower % but much safer so we decided to go with it and from there we\u2019ve been doing very well. Please remember that this is unprecedented, no other projects have done something like this, and we are proud to finally be at a stage where we can give back.",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"A new dapp has been created from which you will be able to withdraw 20 USDT per day per wallet (only whitelisted wallets of course). Users will be able to do this until the claim pool reaches zero. We will continue to fill the pool ideally twice a month in increments of $500 for the foreseeable future.",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"The target is to increase the injections with time as our investment continues to compound and grow."]})]}),this.baseState=this.state}}var B=_;var M=t=>{t&&t instanceof Function&&n.e(3).then(n.bind(null,505)).then((e=>{let{getCLS:n,getFID:a,getFCP:i,getLCP:s,getTTFB:o}=e;n(t),a(t),i(t),s(t),o(t)}))},F=n(224),P=n(499);const R=Object(F.a)({palette:{mode:"light",primary:{main:"#FFFFFF"},secondary:{main:"#193d7d"},background:{default:"#FFFFFF"}}});o.a.render(Object(A.jsx)(i.a.StrictMode,{children:Object(A.jsx)(P.a,{theme:R,children:Object(A.jsx)(B,{})})}),document.getElementById("root")),M()}},[[460,1,2]]]);
//# sourceMappingURL=main.8a2a3b66.chunk.js.map